{% extends "crm_core/base.html" %}
{% load datetime_extras %}
{% block title %}Kalender – Termine{% endblock %}
{% block content %}
<h1>Kalender – Termine</h1>

{% if events %}
<table>
  <thead>
    <tr>
      <th>Beginn</th>
      <th>Ende</th>
      <th>Betreff</th>
      <th>Ort</th>
      <th>Ganztägig</th>
      <th>Aktionen</th>
    </tr>
  </thead>
  <tbody>
    {% for e in events %}
    <tr>
      <td>{{ e.start_display }}</td>
      <td>{{ e.end_display }}</td>
      <td>{{ e.subject }}</td>
      <td>{{ e.location_display|default:"—" }}</td>
      <td>{{ e.is_all_day_display }}</td>
      <td style="white-space:nowrap">
        <a class="btn" href="{% url 'crm_core:calendar_detail' e.id %}">Anzeigen</a>
        <a class="btn" href="{% url 'crm_core:calendar_edit' e.id %}">Ändern</a>
        <a class="btn" href="{% url 'crm_core:calendar_delete' e.id %}">Löschen</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
  <p>Keine Termine im Zeitraum gefunden.</p>
{% endif %}

<p style="margin-top:12px">
  <a class="btn" href="{% url 'crm_core:calendar_create' %}">+ Neuer Termin</a>
</p>
{% endblock %}
